"use strict";angular.module("butterfly",[]).service("VersionService",["$q","$resource",function(a,b){var c=null,d=a.defer(),e=!1;this.checkIfIsUpdated=function(a,f){if(null!=c)d.resolve(c);else if(!e){e=!0;var g=b(a,null);g.get(function(a){c=a.version===f,e=!1,d.resolve(c)},function(a){e=!1,console.log(a),d.reject(a)})}return d.promise}}]).directive("butterflyDirective",["$rootScope","VersionService",function(a,b){return{restrict:"E",scope:{url:"@url",version:"@version"},link:function(c,d,e,f){a.isAppUpdated=a.isAppUpdated&&b.checkIfIsUpdated(c.url,c.version)}}}]);